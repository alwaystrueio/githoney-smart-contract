# Githoney

GitHoney is a smart contract implementation designed to facilitate bounty creation, reward distribution, and other associated transactions on the blockchain. This repository contains the onchain Aiken code and offchain TypeScript code for transaction building and querying.

## Environment Variables

Ensure you have a `.env` file in the `githoney/offchain` directory with the following variables:

```js
CREATION_FEE = ...
REWARD_FEE = ...
GITHONEY_ADDRESS = ...
```

Where `CREATION_FEE` must be a number greater than 2,000,000 (MIN ADA), representing the fee in lovelaces to create a bounty. And `REWARD_FEE` must be a number between 0 and 10,000, representing the percentage of the reward that will be paid.

## Setup

Follow these steps to set up the project for the first time:

1. Navigate to the `githoney/offchain` directory and install all dependencies:

    ```sh
    npm install
    ```

2. Build the code and produce an `offchain-1.0.0.tgz` file by running:

    ```sh
    npm pack
    ```

3. In another npm project, install the library as a local npm package:

    ```sh
    npm i /path/to/offchain-1.0.0.tgz
    ```

## Running Tests

To run the tests, add additional variables to the `.env` file:

```js
BLOCKFROST_PROJECT_ID = preprodMySecretBlockFrostProjectId
MAINTAINER_SEED = ...
CONTRIBUTOR_SEED = ...
GITHONEY_SEED = ...
```

Where the `preprodMySecretBlockFrostProjectId` can be generated by following this [tutorial](https://blockfrost.dev/docs/overview/getting-started).

Run all tests together using the following command:

```sh
npm run test
```

### Running Individual Tests

To run individual tests, use the following command format:

```sh
npm run <test-name>
```

Replace `<test-name>` with one of the following options:

* test-create
* test-addrewards
* test-assign
* test-merge
* test-close
* test-claim
